{
  "info": {
    "name": "Produtos API - SaaS MultiEmpresas",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_postman_id": "produtos-collection-001"
  },
  "variable": [
    { "key": "baseUrl", "value": "http://localhost" },
    { "key": "port", "value": "8000" },
    { "key": "token", "value": "" },
    { "key": "id_empresa", "value": "7" },
    { "key": "modo", "value": "upsert" },
    { "key": "delimiter", "value": ";" },
    { "key": "detalhado", "value": "true" },
    { "key": "arquivo", "value": "C:/caminho/produtos.xlsx" }
  ],
  "item": [
    {
      "name": "List Produtos (paginated)",
      "request": {
        "method": "GET",
        "header": [
          { "key": "Authorization", "value": "Bearer {{token}}", "type": "text" }
        ],
        "url": {
          "raw": "{{baseUrl}}:{{port}}/api/v1/produtos",
          "host": ["{{baseUrl}}:{{port}}"],
          "path": ["api","v1","produtos"]
        }
      }
    },
    {
      "name": "Get Produto by id",
      "request": {
        "method": "GET",
        "header": [
          { "key": "Authorization", "value": "Bearer {{token}}", "type": "text" }
        ],
        "url": {
          "raw": "{{baseUrl}}:{{port}}/api/v1/produtos/96",
          "host": ["{{baseUrl}}:{{port}}"],
          "path": ["api","v1","produtos","96"]
        }
      }
    },
    {
      "name": "Create Produto",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Authorization", "value": "Bearer {{token}}", "type": "text" },
          { "key": "Content-Type", "value": "application/json" }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"id_empresa\": 7,\n  \"descricao\": \"DETERG YPE 500ML NEUTRO\",\n  \"codigo_barras\": \"7896098900208\",\n  \"unidade_medida\": \"LT\",\n  \"preco_custo\": 1.78,\n  \"preco_venda\": 2.31,\n  \"ativo\": 1\n}"
        },
        "url": {
          "raw": "{{baseUrl}}:{{port}}/api/v1/produtos",
          "host": ["{{baseUrl}}:{{port}}"],
          "path": ["api","v1","produtos"]
        }
      }
    },
    {
      "name": "Update Produto",
      "request": {
        "method": "PUT",
        "header": [
          { "key": "Authorization", "value": "Bearer {{token}}", "type": "text" },
          { "key": "Content-Type", "value": "application/json" }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"descricao\": \"DETERG YPE 500ML NEUTRO\",\n  \"preco_venda\": 2.50\n}"
        },
        "url": {
          "raw": "{{baseUrl}}:{{port}}/api/v1/produtos/96",
          "host": ["{{baseUrl}}:{{port}}"],
          "path": ["api","v1","produtos","96"]
        }
      }
    },
    {
      "name": "Delete Produto",
      "request": {
        "method": "DELETE",
        "header": [
          { "key": "Authorization", "value": "Bearer {{token}}", "type": "text" }
        ],
        "url": {
          "raw": "{{baseUrl}}:{{port}}/api/v1/produtos/96",
          "host": ["{{baseUrl}}:{{port}}"],
          "path": ["api","v1","produtos","96"]
        }
      }
    },
    {
      "name": "Importar Produtos",
      "request": {
        "description": "POST /api/v1/produtos/importar\nForm-data: arquivo (xls/xlsx/csv/txt), modo=upsert|skip|update, delimiter, detalhado, id_categoria/id_secao/id_grupo/id_subgrupo/unidade_medida/ativo",
        "method": "POST",
        "header": [
          { "key": "Authorization", "value": "Bearer {{token}}", "type": "text" }
        ],
        "body": {
          "mode": "formdata",
          "formdata": [
            { "key": "modo", "value": "{{modo}}", "type": "text" },
            { "key": "delimiter", "value": "{{delimiter}}", "type": "text" },
            { "key": "detalhado", "value": "{{detalhado}}", "type": "text" },
            { "key": "id_categoria", "value": "", "type": "text" },
            { "key": "id_secao", "value": "", "type": "text" },
            { "key": "id_grupo", "value": "", "type": "text" },
            { "key": "id_subgrupo", "value": "", "type": "text" },
            { "key": "unidade_medida", "value": "", "type": "text" },
            { "key": "ativo", "value": "1", "type": "text" },
            { "key": "arquivo", "type": "file", "src": "{{arquivo}}" }
          ]
        },
        "url": {
          "raw": "{{baseUrl}}:{{port}}/api/v1/produtos/importar",
          "host": ["{{baseUrl}}:{{port}}"],
          "path": ["api","v1","produtos","importar"]
        }
      }
    }
  ]
}
